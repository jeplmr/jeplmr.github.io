<!doctype html>
<html lang="en">

  <head>
    <link rel="icon" href="/img/hammer_logo.png">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Perseverance Rover Photosphere</title>
    <meta name="description" content="This time, from Mars!">
    <link rel="stylesheet" href="/css/index.css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="Justin Palmer">
    <link rel="alternate" href="/feed/feed.json" type="application/json" title="Justin Palmer">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.3/css/all.css" integrity="sha384-SZXxX4whJ79/gErwcOYf+zWLeJdY/qpuqC4cAa9rOGUstPomtqpuNWT9wdPEn2fk" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet"> 
  </head>

  <body>

  <div class="w3-sidebar w3-bar-block w3-collapse w3-card w3-animate-left" style="width:300px;" id="mySidebar">
    <button class="w3-bar-item w3-button w3-large w3-hide-large" onclick="w3_close()">Close &times;</button>
    <div class="left-justify vertical-center">
      <p><b>Justin E. Palmer</b></p>
      <p>Game Designer, Unity Engineer, AR/VR/XR enthusiast, and</br>Creative Technologist</p>
      <a href="https://jeplmr.com" class="w3-bar-item w3-button">Home</a>
      <a href="https://jeplmr.com/about" class="w3-bar-item w3-button">About Me</a>
      <a href="https://jeplmr.com/resume" class="w3-bar-item w3-button">Resum√©</a>
      <a href="/tags/blog/" class="w3-bar-item w3-button">Blog</a>
      </br>
      <a href="https://www.linkedin.com/in/justin-e-palmer/" target="blank"><i class="fab fa-linkedin" style="font-size:24px"></i></a>
      <a href="https://github.com/jeplmr" target="blank"><i class="fab fa-github" style="font-size:24px"></i></a>
      <a href="https://jeplmr.itch.io" target="blank"><i class="fab fa-itch-io" style="font-size:24px"></i></a>
      <a href="https://twitter.com/jeplmr" target="blank"><i class="fab fa-twitter" style="font-size:24px"></i></a>
      <a href="mailto: justin.eugene.palmer@gmail.com" target="blank"><i class="fas fa-envelope" style="font-size:24px"></i></a>
      <p>Check out my <a href="https://jeplmr.itch.io" target="blank">Itch.io</a> page for <b>playable demos</b>!</p>
    </div>
  </div>

  <div class="w3-main" style="margin-left:300px">
    <div>
      <button class="w3-button w3-xlarge w3-hide-large" onclick="w3_open()">&#9776;</button>

      <main class="tmpl-post">
        <p><h2>Please excuse the mess around here. I'm actively working on and updating everything as I find the time. #MVP</h2></p>
        <h1>Perseverance Rover Photosphere</h1>

<p>I've been tinkering with 3js lately and I couldn't resist making a Perseverance rover photosphere. Image credit <a href="https://www.nasa.gov/sites/default/files/thumbnails/image/pia2464-mastcam-zs_first_360-degree_panorama2.jpg" target="blank">NASA</a> Warning, this image is super high resolution and might take a moment to load on slower connections.</p>
<p><canvas id="c" style="width:100%; height:100%; text-align: center"></canvas></p>
<script type="module">

import * as THREE from 'https://threejsfundamentals.org/threejs/resources/threejs/r125/build/three.module.js';
import {VRButton} from 'https://threejsfundamentals.org/threejs/resources/threejs/r125/examples/jsm/webxr/VRButton.js';

function main() {
  const canvas = document.querySelector('#c');
  const renderer = new THREE.WebGLRenderer({canvas});
  renderer.xr.enabled = true;
  document.body.appendChild(VRButton.createButton(renderer));

  const fov = 75;
  const aspect = 2;  // the canvas default
  const near = 0.1;
  const far = 50;
  const camera = new THREE.PerspectiveCamera(fov, aspect, near, far);
  camera.position.set(0, 1.6, 0);

  const scene = new THREE.Scene();


    const radius = 12; 
    const widthSegments = 24; 
    const heightSegments = 24; 
    const sphere = new THREE.SphereGeometry(radius, widthSegments, heightSegments); 

    const loader = new THREE.TextureLoader();
    const material = new THREE.MeshBasicMaterial({
        map: loader.load('/img/perseverance-hires.jpg'),
        side: THREE.DoubleSide, 
    });

    const bgMesh = new THREE.Mesh(sphere, material);
    scene.add(bgMesh);
    bgMesh.position.set(0, 0, 0); 


  function resizeRendererToDisplaySize(renderer) {
    const canvas = renderer.domElement;
    const width = canvas.clientWidth;
    const height = canvas.clientHeight;
    const needResize = canvas.width !== width || canvas.height !== height;
    if (needResize) {
      renderer.setSize(width, height, false);
    }
    return needResize;
  }

  function render(time) {
    time *= 0.001;

    if (resizeRendererToDisplaySize(renderer)) {
      const canvas = renderer.domElement;
      camera.aspect = canvas.clientWidth / canvas.clientHeight;
      camera.updateProjectionMatrix();
    }

    renderer.render(scene, camera);
  }

  renderer.setAnimationLoop(render);
}

main();

</script>


<hr>
<ul><li>Next: <a href="/posts/books/">Reading List</a></li><li>Previous: <a href="/posts/gitgud/">GitGud - A Newbie&#39;s Guide to Version Control</a></li>
</ul>

      </main>


      </div>
    </div>
  </div>

  <footer></footer>

  <script>
  function w3_open() {
    document.getElementById("mySidebar").style.display = "block";
  }

  function w3_close() {
    document.getElementById("mySidebar").style.display = "none";
  }


  </script> 

    <!-- Current page: /posts/marsPhotosphere/ -->
  </body>

  <!--  <header>
    <h1 class="home"><a href="/">Justin Palmer</a></h1>
    <ul class="nav">
      <li class="nav-item"><a href="/">Home</a></li>
      <li class="nav-item"><a href="/about/">About Me</a></li>
      <li class="nav-item"><a href="/resume/">resume</a></li>
    <li class="nav-item"><a href="/tags/Portfolio/">Portfolio</a></li>
    <li class="nav-item"><a href="/tags/blog/">Blog</a></li>
    </ul>
  </header>

  -->

</html>